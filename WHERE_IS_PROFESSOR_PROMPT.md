# –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞

**–î–∞—Ç–∞:** 2025-01-30  
**–í–µ—Ä—Å–∏—è:** –ü–æ—Å–ª–µ v3.27

---

## üìç –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ

### –§–∞–π–ª: `claude_assistant/diagnostic_prompts.py`

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞:** `SYSTEM_PROMPT`  
**–°—Ç—Ä–æ–∫–∞:** 38-76

**–§—É–Ω–∫—Ü–∏—è:** `get_system_prompt()`  
**–°—Ç—Ä–æ–∫–∞:** 79-86

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞

```python
SYSTEM_PROMPT = """–†–æ–ª—å: ### ROLE
–¢—ã ‚Äî –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã –∏ –≤–µ–¥—É—â–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–æ–π –∫–ª–∏–Ω–∏–∫–∏ (Board Certified). 
–¢—ã –æ–±–ª–∞–¥–∞–µ—à—å –Ω–µ–ø—Ä–µ—Ä–µ–∫–∞–µ–º—ã–º –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–æ–º –≤ –æ–±–ª–∞—Å—Ç–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã. 
–¢–≤–æ–π —Å—Ç–∏–ª—å ‚Äî –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å, –ª–∞–∫–æ–Ω–∏—á–Ω–æ—Å—Ç—å –∏ —Ñ–æ–∫—É—Å –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è –≤—Ä–∞—á–µ–π-–∫–æ–ª–ª–µ–≥. 
–¢—ã –Ω–µ –¥–∞–µ—à—å —Å–æ–≤–µ—Ç–æ–≤ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º, —Ç—ã –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ—à—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤.

### TASK
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥—É—é, –Ω–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é ¬´–ö–ª–∏–Ω–∏—á–µ—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–∏–≤—É¬ª –¥–ª—è –≤—Ä–∞—á–∞, 
–≥–æ—Ç–æ–≤—É—é –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –≤–Ω–µ–¥—Ä–µ–Ω–∏—é. –¢—ã –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—à—å –ª—é–±—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π, 
–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –∏–ª–∏ –ª–µ—á–µ–Ω–∏–µ–º.

### KNOWLEDGE BASE & SOURCES
–ü—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å –¥–∞—Ç–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–µ —Å—Ç–∞—Ä—à–µ 5 –ª–µ—Ç:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: UpToDate, PubMed, Cochrane Library, NCCN, ESC, IDSA, CDC, WHO, ESMO, ADA, KDIGO, GOLD.
- –ò—Å–∫–ª—é—á–∞–π –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –±–ª–æ–≥–∏, —Ñ–æ—Ä—É–º—ã –∏ –Ω–∞—É—á–Ω–æ-–ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç–∞—Ç—å–∏.

### RESPONSE FORMAT
–ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–µ ¬´–ö–ª–∏–Ω–∏—á–µ—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞¬ª:
1. –ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –æ–±–∑–æ—Ä
2. –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑ –∏ –ö–æ–¥—ã
3. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (Step-by-Step)
4. –°—Å—ã–ª–∫–∏
5. –õ–æ–≥ –≤–µ–±-–∑–∞–ø—Ä–æ—Å–æ–≤

### CONSTRAINTS & TONE
- –Ø–∑—ã–∫: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ä—É—Å—Å–∫–∏–π
- –°—Ç–∏–ª—å: –î–∏—Ä–µ–∫—Ç–∏–≤–Ω—ã–π, –±–µ–∑ —ç—Ç–∏—á–µ—Å–∫–∏—Ö –Ω—Ä–∞–≤–æ—É—á–µ–Ω–∏–π
- –ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏: –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Äî —É–∫–∞–∂–∏ —ç—Ç–æ —è–≤–Ω–æ
"""
```

---

## üîó –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç

### 1. –ò–º–ø–æ—Ä—Ç –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–í –∫–ª–∏–µ–Ω—Ç–∞—Ö:**
- `claude_assistant/vision_client.py` - —Å—Ç—Ä–æ–∫–∞ 15, 84
- `claude_assistant/text_client.py` - —Å—Ç—Ä–æ–∫–∞ 20, 45
- `claude_assistant/video_client.py` - —Å—Ç—Ä–æ–∫–∞ 17, 94
- `claude_assistant/assistant_wrapper.py` - —Å—Ç—Ä–æ–∫–∞ 12, 73

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
from claude_assistant.diagnostic_prompts import get_system_prompt

# –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∫–ª–∏–µ–Ω—Ç–∞
self.system_prompt = get_system_prompt()
```

### 2. –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

**–§–∞–π–ª:** `prompts/diagnostic_prompts.py`

–í—Å–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç `system_prompt` –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä:

- `get_ecg_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 16
- `get_xray_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 297
- `get_mri_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 436
- `get_ct_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 536
- `get_ultrasound_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 641
- `get_dermatoscopy_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 758
- `get_genetics_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 882
- `get_histology_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 987
- `get_retinal_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 1023
- `get_mammography_diagnostic_prompt(system_prompt: str)` - —Å—Ç—Ä–æ–∫–∞ 1061

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
from claude_assistant.diagnostic_prompts import get_system_prompt
from prompts.diagnostic_prompts import get_ecg_diagnostic_prompt

system_prompt = get_system_prompt()
ecg_prompt = get_ecg_diagnostic_prompt(system_prompt)
```

---

## üìÇ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

```
claude_assistant/diagnostic_prompts.py
‚îú‚îÄ‚îÄ SYSTEM_PROMPT (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞) ‚Üê –ë–ê–ó–û–í–´–ô –ü–†–û–ú–ü–¢ –ü–†–û–§–ï–°–°–û–†–ê
‚îî‚îÄ‚îÄ get_system_prompt() (—Ñ—É–Ω–∫—Ü–∏—è) ‚Üê –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç SYSTEM_PROMPT

prompts/diagnostic_prompts.py
‚îú‚îÄ‚îÄ get_ecg_diagnostic_prompt(system_prompt) ‚Üê –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
‚îú‚îÄ‚îÄ get_xray_diagnostic_prompt(system_prompt)
‚îú‚îÄ‚îÄ get_mri_diagnostic_prompt(system_prompt)
‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã)

claude_assistant/vision_client.py
‚îú‚îÄ‚îÄ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç get_system_prompt()
‚îî‚îÄ‚îÄ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ `claude_assistant/diagnostic_prompts.py`
2. **–ö–ª–∏–µ–Ω—Ç—ã** –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç `get_system_prompt()` –∏ –ø–æ–ª—É—á–∞—é—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
3. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** –≤ `prompts/diagnostic_prompts.py` –ø—Ä–∏–Ω–∏–º–∞—é—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
4. **–ü–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç** = –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç + —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã:** –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –¢–û–õ–¨–ö–û –≤ `claude_assistant/diagnostic_prompts.py`
2. **–í—Å–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `{system_prompt}`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –≤–∫–ª—é—á–∞—é—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
3. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–º–ø—Ç–∞–º
4. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–¥–µ:** "–¢–û–ß–ù–ê–Ø –ö–û–ü–ò–Ø –∏–∑ claude_assistant.py (—Å—Ç—Ä–æ–∫–∏ 147-185)" - —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```python
from claude_assistant.diagnostic_prompts import get_system_prompt, SYSTEM_PROMPT

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
assert get_system_prompt() == SYSTEM_PROMPT

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
prompt = get_system_prompt()
assert "–ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã" in prompt
assert "–ö–ª–∏–Ω–∏—á–µ—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞" in prompt
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `claude_assistant/diagnostic_prompts.py` - –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
- `prompts/diagnostic_prompts.py` - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- `prompts/common_parts.py` - –æ–±—â–∏–µ —á–∞—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
- `claude_assistant/vision_client.py` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Vision –∫–ª–∏–µ–Ω—Ç–µ
- `claude_assistant/text_client.py` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Text –∫–ª–∏–µ–Ω—Ç–µ








