/**
 * –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
 * –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –≥–ª—É–±–æ–∫–æ–π —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–µ –∏–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (diagnostic_prompts.py).
 * –ü–†–ï–î–ù–ê–ó–ù–ê–ß–ï–ù–û –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –ü–†–û–§–ï–°–°–û–†–û–ú –ö–õ–ò–ù–ò–ß–ï–°–ö–û–ô –ú–ï–î–ò–¶–ò–ù–´.
 */

// === –û–ë–©–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –§–û–†–ú–ê–¢–£ (–ü–†–û–§–ï–°–°–û–†) ===
export const COMMON_FORMAT = `
–ò–≥–Ω–æ—Ä–∏—Ä—É–π —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ —Ç–∞–±–ª–∏—Ü–∞—Ö —Å—Å—ã–ª–æ–∫ –∏ –ª–æ–≥–∞—Ö –≤–µ–±‚Äë–ø–æ–∏—Å–∫–∞: —Å—Å—ã–ª–∫–∏ –∏ –ª–æ–≥–∏ –ù–ï –ù–£–ñ–ù–´.
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–∞–±–ª–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø–∏—Å—ã–≤–∞–π –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
–§–û–ö–£–° –ù–ê –î–ò–ê–ì–ù–û–°–¢–ò–ö–ï: –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–π –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ—Ä–º—ã, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ –ø–∞—Ç–æ–ª–æ–≥–∏—è—Ö.
–ë–£–î–¨ –õ–ê–ö–û–ù–ò–ß–ù–´–ú: –ù–µ –¥—É–±–ª–∏—Ä—É–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞, –µ—Å–ª–∏ –æ–Ω–æ –≤–µ—Ä–Ω–æ. –°—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–∏–Ω—Ç–µ–∑—É –∏ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–º –≤—ã–≤–æ–¥–∞–º.
–£–∫–∞–∑—ã–≤–∞–π —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è.
–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π –¢–û–ß–ù–£–Æ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –ø–∞—Ç–æ–ª–æ–≥–∏–∏ (–∫–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–∞–∫–∞—è —á–∞—Å—Ç—å, —Å—Ç–æ—Ä–æ–Ω–∞).
–ò—Å–ø–æ–ª—å–∑—É–π –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é.

### –°–¢–ê–ù–î–ê–†–¢ –ú–ï–î–ò–¶–ò–ù–°–ö–ò–• –®–ö–ê–õ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):
–ï—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ, —Ä–∞—Å—Å—á–∏—Ç–∞–π –∏ —É–∫–∞–∂–∏ –±–∞–ª–ª—ã –ø–æ —Å–ª–µ–¥—É—é—â–∏–º —à–∫–∞–ª–∞–º:
- –≠–ö–ì: CHA2DS2-VASc (—Ä–∏—Å–∫ –∏–Ω—Å—É–ª—å—Ç–∞), HAS-BLED (—Ä–∏—Å–∫ –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏–π).
- –ú–ê–ú–ú–û–ì–†–ê–§–ò–Ø: –ö–∞—Ç–µ–≥–æ—Ä–∏—è BI-RADS (0-6).
- –ö–¢ –õ–ï–ì–ö–ò–•: Fleischner criteria / Lung-RADS.
- –£–ó–ò –©–ò–¢–û–í–ò–î–ù–û–ô –ñ–ï–õ–ï–ó–´: TI-RADS.
- –î–ï–†–ú–ê–¢–û–°–ö–û–ü–ò–Ø: –ê–ª–≥–æ—Ä–∏—Ç–º ABCDE –∏ –æ—Ü–µ–Ω–∫–∞ –ø–æ —à–∫–∞–ª–µ –ê—Ä–¥–∂–µ–Ω—Ü–∏–∞–Ω–æ (CASH).
`;

// === –°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –ö–†–ò–¢–ï–†–ò–ò –î–õ–Ø –°–ü–ï–¶–ò–ê–õ–ò–°–¢–û–í (–®–ê–ì 1: –ò–ó–í–õ–ï–ß–ï–ù–ò–ï) ===
// –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Gemini Flash –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
export const SPECIALIST_CRITERIA = {
  ecg: {
    title: '–≠–õ–ï–ö–¢–†–û–ö–ê–†–î–ò–û–ì–†–ê–§–ò–Ø (–≠–ö–ì)',
    requirements: `
üö® –®–ê–ì 0: –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê (–í–´–ü–û–õ–ù–ò–¢–¨ –ü–ï–†–í–´–ú)
–ü—Ä–æ–≤–µ—Ä—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∂–∏–∑–Ω–µ—É–≥—Ä–æ–∂–∞—é—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:
1. –§–ò–ë–†–ò–õ–õ–Ø–¶–ò–Ø –ñ–ï–õ–£–î–û–ß–ö–û–í (–ñ–§): –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ QRS, —Ö–∞–æ—Ç–∏—á–Ω—ã–µ –≤–æ–ª–Ω—ã > 300 —É–¥/–º–∏–Ω –≤–æ –≤—Å–µ—Ö –æ—Ç–≤–µ–¥–µ–Ω–∏—è—Ö.
2. –ê–°–ò–°–¢–û–õ–ò–Ø: –ü–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
3. –ñ–ï–õ–£–î–û–ß–ö–û–í–ê–Ø –¢–ê–•–ò–ö–ê–†–î–ò–Ø: –®–∏—Ä–æ–∫–∏–µ QRS > 150 —É–¥/–º–∏–Ω.

–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó:
- –†–∏—Ç–º: —Å–∏–Ω—É—Å–æ–≤—ã–π, –§–ü, —Ç—Ä–µ–ø–µ—Ç–∞–Ω–∏–µ (–ø–∏–ª–æ–æ–±—Ä–∞–∑–Ω—ã–µ –≤–æ–ª–Ω—ã F), —É–∑–ª–æ–≤–æ–π.
- –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã (–º—Å): PR, QRS, QT/QTc (–º–µ—Ç–æ–¥ Bazett).
- –û—Å—å —Å–µ—Ä–¥—Ü–∞: –≤ –≥—Ä–∞–¥—É—Å–∞—Ö.
- –°–µ–≥–º–µ–Ω—Ç ST: —ç–ª–µ–≤–∞—Ü–∏—è/–¥–µ–ø—Ä–µ—Å—Å–∏—è –≤ –º–º –ø–æ –æ—Ç–≤–µ–¥–µ–Ω–∏—è–º (V1-V6, I, II, III, aVF, aVL).
- –ó—É–±–µ—Ü T: –ø–æ–ª—è—Ä–Ω–æ—Å—Ç—å, –∞–º–ø–ª–∏—Ç—É–¥–∞.
- –ó—É–±–µ—Ü P: —à–∏—Ä–∏–Ω–∞, –∞–º–ø–ª–∏—Ç—É–¥–∞ (P-mitrale, P-pulmonale).
`,
    pathologies: `
- –ò–®–ï–ú–ò–Ø/–ò–ù–§–ê–†–ö–¢: STEMI (—ç–ª–µ–≤–∞—Ü–∏—è ST), NSTEMI (–¥–µ–ø—Ä–µ—Å—Å–∏—è ST, –∏–Ω–≤–µ—Ä—Å–∏—è T). –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: –ø–µ—Ä–µ–¥–Ω—è—è, –Ω–∏–∂–Ω—è—è, –±–æ–∫–æ–≤–∞—è.
- –ì–ò–ü–ï–†–¢–†–û–§–ò–Ø: Sokolow-Lyon (S V1 + R V5/V6 >= 35 –º–º), Cornell (R aVL + S V3 > 28 –º–º).
- –ë–õ–û–ö–ê–î–´: –ü–ù–ü–ì/–õ–ù–ü–ì (QRS >= 120 –º—Å), AV-–±–ª–æ–∫–∞–¥—ã (I, II Mobitz 1/2, III).
- –≠–õ–ï–ö–¢–†–û–õ–ò–¢–´: –ì–∏–ø–µ—Ä–∫–∞–ª–∏–µ–º–∏—è (–≤—ã—Å–æ–∫–∏–µ T), –ì–∏–ø–æ–∫–∞–ª–∏–µ–º–∏—è (U-–≤–æ–ª–Ω—ã).
`
  },
  xray: {
    title: '–†–ï–ù–¢–ì–ï–ù–û–ì–†–ê–§–ò–Ø',
    requirements: `
- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (–≤–¥–æ—Ö, —Å–∏–º–º–µ—Ç—Ä–∏—è).
- –õ–µ–≥–æ—á–Ω—ã–µ –ø–æ–ª—è: –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, –∏–Ω—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.
- –ö–æ—Ä–Ω–∏ –ª–µ–≥–∫–∏—Ö: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.
- –°—Ä–µ–¥–æ—Å—Ç–µ–Ω–∏–µ: —Å–º–µ—â–µ–Ω–∏–µ, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.
- –î–∏–∞—Ñ—Ä–∞–≥–º–∞: –∫–æ–Ω—Ç—É—Ä—ã, —Å–∏–Ω—É—Å—ã (—Å–≤–æ–±–æ–¥–Ω—ã/–∑–∞–ø–∞—è–Ω—ã).
- –ö–æ—Å—Ç–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å, –ø–ª–æ—Ç–Ω–æ—Å—Ç—å.
`,
    pathologies: `
- –ü–ù–ï–í–ú–û–ù–ò–Ø: –∏–Ω—Ñ–∏–ª—å—Ç—Ä–∞—Ç—ã, –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è, –≤–æ–∑–¥—É—à–Ω–∞—è –±—Ä–æ–Ω—Ö–æ–≥—Ä–∞–º–º–∞.
- –¢–£–ë–ï–†–ö–£–õ–ï–ó: –æ—á–∞–≥–∏ –≤ –≤–µ—Ä—Ö—É—à–∫–∞—Ö, –∫–∞–≤–µ—Ä–Ω—ã, –¥–∏—Å—Å–µ–º–∏–Ω–∞—Ü–∏—è.
- –ü–ù–ï–í–ú–û–¢–û–†–ê–ö–°: –ª–∏–Ω–∏—è –≤–∏—Å—Ü–µ—Ä–∞–ª—å–Ω–æ–π –ø–ª–µ–≤—Ä—ã, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∏—Å—É–Ω–∫–∞.
- –í–´–ü–û–¢: –ª–∏–Ω–∏—è –î–∞–º—É–∞–∑–æ, —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Å–∏–Ω—É—Å–æ–≤.
- –û–¢–ï–ö: –ª–∏–Ω–∏–∏ –ö–µ—Ä–ª–∏, "–∫—Ä—ã–ª—å—è –±–∞–±–æ—á–∫–∏", –∫–∞—Ä–¥–∏–æ–º–µ–≥–∞–ª–∏—è.
- –ü–ï–†–ï–õ–û–ú–´: –ª–∏–Ω–∏—è –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è, —Å–º–µ—â–µ–Ω–∏–µ, –æ—Ç–µ–∫ –º—è–≥–∫–∏—Ö —Ç–∫–∞–Ω–µ–π.
`
  },
  ct: {
    title: '–ö–û–ú–ü–¨–Æ–¢–ï–†–ù–ê–Ø –¢–û–ú–û–ì–†–ê–§–ò–Ø (–ö–¢)',
    requirements: `
- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö –•–∞—É–Ω—Å—Ñ–∏–ª–¥–∞ (HU).
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ (—Ñ–∞–∑—ã: –Ω–∞—Ç–∏–≤–Ω–∞—è, –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è, –≤–µ–Ω–æ–∑–Ω–∞—è).
- –û—Ä–≥–∞–Ω—ã –±—Ä—é—à–Ω–æ–π –ø–æ–ª–æ—Å—Ç–∏: —Ä–∞–∑–º–µ—Ä—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–π –∂–∏–¥–∫–æ—Å—Ç–∏.
- –õ–µ–≥–∫–∏–µ: –æ—á–∞–≥–∏, "–º–∞—Ç–æ–≤–æ–µ —Å—Ç–µ–∫–ª–æ", —ç–º—Ñ–∏–∑–µ–º–∞.
`,
    pathologies: `
- –¢–≠–õ–ê: –¥–µ—Ñ–µ–∫—Ç—ã –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –ª–µ–≥–æ—á–Ω—ã—Ö –∞—Ä—Ç–µ—Ä–∏—è—Ö.
- –ê–ü–ü–ï–ù–î–ò–¶–ò–¢: –¥–∏–∞–º–µ—Ç—Ä > 6 –º–º, –æ—Ç–µ–∫ –∫–ª–µ—Ç—á–∞—Ç–∫–∏, –∞–ø–ø–µ–Ω–¥–∏–∫–æ–ª–∏—Ç.
- –•–û–õ–ï–¶–ò–°–¢–ò–¢: —Å—Ç–µ–Ω–∫–∞ > 3 –º–º, –∫–æ–Ω–∫—Ä–µ–º–µ–Ω—Ç—ã, –∂–∏–¥–∫–æ—Å—Ç—å.
- –ò–ù–°–£–õ–¨–¢ (–ö–¢): –≥–∏–ø–µ—Ä–¥–µ–Ω—Å–Ω–∞—è –∑–æ–Ω–∞ (–∫—Ä–æ–≤—å) –∏–ª–∏ –≥–∏–ø–æ–¥–µ–Ω—Å–Ω–∞—è –∑–æ–Ω–∞ (–∏—à–µ–º–∏—è).
`
  },
  mri: {
    title: '–ú–ê–ì–ù–ò–¢–ù–û-–†–ï–ó–û–ù–ê–ù–°–ù–ê–Ø –¢–û–ú–û–ì–†–ê–§–ò–Ø (–ú–†–¢)',
    requirements: `
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: T1, T2, FLAIR, DWI, ADC, SWI, STIR.
- –°–∏–≥–Ω–∞–ª –æ—Ç –ø–∞—Ç–æ–ª–æ–≥–∏–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö.
- –ú–∞—Å—Å-—ç—Ñ—Ñ–µ–∫—Ç, –ø–µ—Ä–∏—Ñ–æ–∫–∞–ª—å–Ω—ã–π –æ—Ç–µ–∫, –¥–∏—Å–ª–æ–∫–∞—Ü–∏—è —Å—Ä–µ–¥–∏–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.
`,
    pathologies: `
- –ò–ù–°–£–õ–¨–¢ (–ú–†–¢): DWI-–≥–∏–ø–µ—Ä/ADC-–≥–∏–ø–æ (–æ—Å—Ç—Ä—ã–π).
- –û–ü–£–•–û–õ–ò: –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π –æ–±–æ–¥–æ–∫, –∏–Ω—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –æ—Ç–µ–∫.
- –†–ê–°–°–ï–Ø–ù–ù–´–ô –°–ö–õ–ï–†–û–ó: –æ—á–∞–≥–∏ "–ø–∞–ª—å—Ü—ã –î–æ—É—Å–æ–Ω–∞", –ø–µ—Ä–∏–≤–µ–Ω—Ç—Ä–∏–∫—É–ª—è—Ä–Ω–æ.
- –ì–†–´–ñ–ò: —ç–∫—Å—Ç—Ä—É–∑–∏—è, –ø—Ä–æ—Ç—Ä—É–∑–∏—è, —Å–µ–∫–≤–µ—Å—Ç—Ä–∞—Ü–∏—è, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –∫–æ—Ä–µ—à–∫–æ–≤.
`
  },
  ultrasound: {
    title: '–£–õ–¨–¢–†–ê–ó–í–£–ö–û–í–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (–£–ó–ò)',
    requirements: `
- –≠—Ö–æ–≥–µ–Ω–Ω–æ—Å—Ç—å (–∞–Ω-, –≥–∏–ø–æ-, –∏–∑–æ-, –≥–∏–ø–µ—Ä-).
- –í–∞—Å–∫—É–ª—è—Ä–∏–∑–∞—Ü–∏—è (–¶–î–ö/–î–æ–ø–ø–ª–µ—Ä).
- –†–∞–∑–º–µ—Ä—ã –æ—Ä–≥–∞–Ω–æ–≤, —á–µ—Ç–∫–æ—Å—Ç—å –∫–æ–Ω—Ç—É—Ä–æ–≤.
`,
    pathologies: `
- –ñ–ö–ë/–ú–ö–ë: –∫–æ–Ω–∫—Ä–µ–º–µ–Ω—Ç—ã —Å –∞–∫—É—Å—Ç–∏—á–µ—Å–∫–æ–π —Ç–µ–Ω—å—é.
- –¶–ò–†–†–û–ó: –Ω–µ—Ä–æ–≤–Ω—ã–π –∫–æ–Ω—Ç—É—Ä, –∞—Å—Ü–∏—Ç, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞–ª—å–Ω–æ–π –≤–µ–Ω—ã.
- –°–¢–ï–ê–¢–û–ó: "—è—Ä–∫–∞—è" –ø–µ—á–µ–Ω—å, –∑–∞—Ç—É—Ö–∞–Ω–∏–µ —É–ª—å—Ç—Ä–∞–∑–≤—É–∫–∞.
- –¢–ò–†–ï–û–ò–î–ò–¢: –≥–∏–ø–æ—ç—Ö–æ–≥–µ–Ω–Ω–∞—è –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å ("—Å–æ—Ç—ã").
`
  },
  dermatoscopy: {
    title: '–î–ï–†–ú–ê–¢–û–°–ö–û–ü–ò–Ø',
    requirements: `
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ ABCDE –∏ CASH.
- –ü–∏–≥–º–µ–Ω—Ç–Ω–∞—è —Å–µ—Ç—å (—Ç–∏–ø–∏—á–Ω–∞—è/–∞—Ç–∏–ø–∏—á–Ω–∞—è).
- –°–æ—Å—É–¥–∏—Å—Ç—ã–π —Ä–∏—Å—É–Ω–æ–∫, —Ç–æ—á–∫–∏, –≥–ª–æ–±—É–ª—ã.
`,
    pathologies: `
- –ú–ï–õ–ê–ù–û–ú–ê: –∞—Å–∏–º–º–µ—Ç—Ä–∏—è, >3 —Ü–≤–µ—Ç–æ–≤, –±–µ–ª–æ-—Å–∏–Ω—è—è –≤—É–∞–ª—å, –∞—Ç–∏–ø–∏—á–Ω–∞—è —Å–µ—Ç—å.
- –ë–ö–ö: –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å–æ—Å—É–¥—ã, –∏–∑—ä—è–∑–≤–ª–µ–Ω–∏—è.
- –°–ï–ë–û–†–†–û–ô–ù–´–ô –ö–ï–†–ê–¢–û–ó: —Ä–æ–≥–æ–≤—ã–µ –∫–∏—Å—Ç—ã ("–∫–æ–º–µ–¥–æ–Ω—ã").
`
  },
  genetics: {
    title: '–ì–ï–ù–ï–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó',
    requirements: `
- rsID (rs...), –≥–µ–Ω, –≥–µ–Ω–æ—Ç–∏–ø (AA, AG, TT...).
- –ù–æ—Ç–∞—Ü–∏—è c. / p. (–Ω–∞–ø—Ä–∏–º–µ—Ä, MTHFR C677T).
- –°—Å—ã–ª–∫–∞ –Ω–∞ –±–∞–∑—ã: ClinVar, PharmGKB, OMIM.
`,
    pathologies: `
- –§–ê–†–ú–ê–ö–û–ì–ï–ù–ï–¢–ò–ö–ê: –º–µ—Ç–∞–±–æ–ª–∏–∑–º (CYP2D6, CYP2C19, NAT).
- –ù–£–¢–†–ò–ì–ï–ù–û–ú–ò–ö–ê: –º–µ—Ç–∞–±–æ–ª–∏–∑–º —Ñ–æ–ª–∞—Ç–æ–≤ (MTHFR), –≤–∏—Ç–∞–º–∏–Ω–∞ D (VDR).
- –ü–ê–¢–û–ì–ï–ù–ù–´–ï –í–ê–†–ò–ê–ù–¢–´: —Ä–∏—Å–∫ –º–æ–Ω–æ–≥–µ–Ω–Ω—ã—Ö –∏ –º—É–ª—å—Ç–∏—Ñ–∞–∫—Ç–æ—Ä–Ω—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π.
`
  },
  universal: {
    title: '–ú–ï–î–ò–¶–ò–ù–°–ö–ê–Ø –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø',
    requirements: '- –ü—Ä–æ–≤–µ–¥–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–∏–º—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –ø–∞—Ç–æ–ª–æ–≥–∏–π.',
    pathologies: '- –í—ã—è–≤–∏ –∏ –æ–ø–∏—à–∏ –≤—Å–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –Ω–æ—Ä–º—ã.'
  },
  mammography: {
    title: '–ú–ê–ú–ú–û–ì–†–ê–§–ò–Ø (BI-RADS)',
    requirements: `
- –¢–∏–ø –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ (A, B, C, D).
- –°–∏–º–º–µ—Ç—Ä–∏—è –∂–µ–ª–µ–∑.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Å–∫–æ–≤ –∏ –∫–æ–∂–∏.
`,
    pathologies: `
- –û–ë–†–ê–ó–û–í–ê–ù–ò–Ø: —Ñ–æ—Ä–º–∞, –∫—Ä–∞—è (—Å–ø–∏–∫—É–ª—è—Ä–Ω—ã–µ - —Ä–∏—Å–∫!), –ø–ª–æ—Ç–Ω–æ—Å—Ç—å.
- –ö–ê–õ–¨–¶–ò–ù–ê–¢–´: –ø–ª–µ–æ–º–æ—Ä—Ñ–Ω—ã–µ, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ.
- BI-RADS: –∫–∞—Ç–µ–≥–æ—Ä–∏—è 0-6.
`
  },
  histology: {
    title: '–ì–ò–°–¢–û–õ–û–ì–ò–Ø',
    requirements: `
- –û–∫—Ä–∞—Å–∫–∞ (H&E, –ò–ì–•).
- –ö–ª–µ—Ç–æ—á–Ω–∞—è –∞—Ç–∏–ø–∏—è, –º–∏—Ç–æ–∑—ã.
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∫–∞–Ω–∏.
`,
    pathologies: `
- –û–ü–£–•–û–õ–ò: Grade (G1-G3), –∏–Ω–≤–∞–∑–∏—è –≤ —Å–æ—Å—É–¥—ã, –∫—Ä–∞—è —Ä–µ–∑–µ–∫—Ü–∏–∏.
`
  },
  retinal: {
    title: '–û–§–¢–ê–õ–¨–ú–û–°–ö–û–ü–ò–Ø (–°–ï–¢–ß–ê–¢–ö–ê)',
    requirements: `
- –î–∏—Å–∫ –∑—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–µ—Ä–≤–∞ (–≥—Ä–∞–Ω–∏—Ü—ã, —ç–∫—Å–∫–∞–≤–∞—Ü–∏—è).
- –°–æ—Å—É–¥—ã (–∞—Ä—Ç–µ—Ä–∏–∏/–≤–µ–Ω—ã), —Å–∏–º–ø—Ç–æ–º—ã –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∞.
- –ú–∞–∫—É–ª–∞, —Ä–µ—Ñ–ª–µ–∫—Å.
`,
    pathologies: `
- –†–ï–¢–ò–ù–û–ü–ê–¢–ò–Ø: –º–∏–∫—Ä–æ–∞–Ω–µ–≤—Ä–∏–∑–º—ã, —ç–∫—Å—Å—É–¥–∞—Ç—ã, –≥–µ–º–æ—Ä—Ä–∞–≥–∏–∏.
- –í–ú–î: –¥—Ä—É–∑—ã, –∞—Ç—Ä–æ—Ñ–∏—è.
`
  }
};

export type ImageType = keyof typeof SPECIALIST_CRITERIA;

/**
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –û–ü–ò–°–ê–ù–ò–Ø (–®–∞–≥ 1: –†–∞–±–æ—Ç–∞ –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞)
 * –§–æ–∫—É—Å –Ω–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —Ñ–∞–∫—Ç–æ–≤, —Ü–∏—Ñ—Ä –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
 */
export function getDescriptionPrompt(imageType: ImageType): string {
  const criteria = SPECIALIST_CRITERIA[imageType] || SPECIALIST_CRITERIA.universal;
  
  return `
–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –≤—Ä–∞—á-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç (—É–∑–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è: ${criteria.title}). 
–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –û–ë–™–ï–ö–¢–ò–í–ù–û–ï –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

### –¢–í–û–ò –ò–ù–°–¢–†–£–ö–¶–ò–ò:
${criteria.requirements}

### –ß–¢–û –ò–°–ö–ê–¢–¨ (–ü–ê–¢–û–õ–û–ì–ò–ò):
${criteria.pathologies}

–í–ê–ñ–ù–û: 
- –ë—É–¥—å –ø—Ä–µ–¥–µ–ª—å–Ω–æ —Ç–æ—á–µ–Ω –≤ —Ü–∏—Ñ—Ä–∞—Ö (–º–º, –≥—Ä–∞–¥—É—Å—ã, HU, –º—Å).
- –û–ø–∏—Å—ã–≤–∞–π –¢–û–õ–¨–ö–û —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—à—å. –ù–µ —Å—Ç–∞–≤—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑.
- –¢–≤–æ–π –æ—Ç—á–µ—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä—É –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è.
`;
}

/**
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –ö–õ–ò–ù–ò–ß–ï–°–ö–û–ô –î–ò–†–ï–ö–¢–ò–í–´ (–®–∞–≥ 2: –†–∞–±–æ—Ç–∞ –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞)
 * –§–æ–∫—É—Å –Ω–∞ —Å–∏–Ω—Ç–µ–∑–µ –¥–∞–Ω–Ω—ã—Ö, –¥–∏–∞–≥–Ω–æ–∑–µ –∏ –ø–ª–∞–Ω–µ –ª–µ—á–µ–Ω–∏—è.
 */
export function getDirectivePrompt(imageType: ImageType, userPrompt: string = ''): string {
  const criteria = SPECIALIST_CRITERIA[imageType] || SPECIALIST_CRITERIA.universal;

  return `
–¢—ã ‚Äî –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –º–µ–¥–∏—Ü–∏–Ω—ã. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ö–õ–ò–ù–ò–ß–ï–°–ö–£–Æ –î–ò–†–ï–ö–¢–ò–í–£.

### –ö–û–ù–¢–ï–ö–°–¢ –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø: ${criteria.title}

### –¢–í–û–ò –ó–ê–î–ê–ß–ò:
1. –û—Ü–µ–Ω–∏—Ç—å –∫–ª–∏–Ω–∏—á–µ—Å–∫—É—é –∑–Ω–∞—á–∏–º–æ—Å—Ç—å –Ω–∞—Ö–æ–¥–æ–∫, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º.
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É.
3. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –ª–µ—á–µ–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥).

### –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –ó–ê–ü–†–û–°:
${userPrompt || '–°—Ñ–æ—Ä–º–∏—Ä—É–π –ø–æ–ª–Ω—ã–π –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω.'}

${COMMON_FORMAT}

–í–ê–ñ–ù–û: –¢–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω–µ –∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –≥–∞–π–¥–ª–∞–π–Ω–∞—Ö.
`;
}

// Fallback —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
export function getPrompt(imageType: ImageType, mode: 'fast' | 'optimized'): string {
  return mode === 'fast' ? getDescriptionPrompt(imageType) : getDirectivePrompt(imageType);
}

export function getFastAnalysisPrompt(imageType: ImageType): string {
  return getDirectivePrompt(imageType, '–î–∞–π –∫—Ä–∞—Ç–∫—É—é, –Ω–æ —Ç–æ—á–Ω—É—é –¥–∏—Ä–µ–∫—Ç–∏–≤—É.');
}
