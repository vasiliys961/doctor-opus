# üîÑ –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–ø–∏—Å–∫–∏

**–°—Ç–∞—Ç—É—Å:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –≥–æ—Ç–æ–≤–∞ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é, –Ω–æ –ø–æ–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞.

---

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `BALANCE_SYSTEM.md` —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —ç–∫–æ–Ω–æ–º–∏–∫–∏ `PRICING.md`
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ `config.py` (—Ñ–ª–∞–≥–∏ SUBSCRIPTION_ENABLED, APP_MODE, OWNER_IDS –∏ —Ç.–¥.)
- ‚úÖ –ö–æ–¥ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–∫–∏: `utils/subscription_manager.py`, `utils/balance_display.py`, `page_modules/subscription_page.py`
- ‚úÖ `.dev_mode` —É–∂–µ –≤ `.gitignore`

---

## üöÄ –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–ø–∏—Å–∫–∏

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–ª–∞–≥–∏ –≤ `config.py`

–û—Ç–∫—Ä–æ–π `config.py` –∏ –∏–∑–º–µ–Ω–∏:

```python
# –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
SUBSCRIPTION_ENABLED = True

# –í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º:
# OFF        ‚Äì –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–∫–ª—é—á–µ–Ω–æ –¥–ª—è –≤—Å–µ—Ö, –∫—Ä–æ–º–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞
# TEST       ‚Äì —Ç–µ—Å—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫—Ä—É–≥–æ–º –≤—Ä–∞—á–µ–π, –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–ø–ª–∞—Ç
# BETA       ‚Äì –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 –µ–¥. –ø–µ—Ä–≤—ã–º 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)
# PRODUCTION ‚Äì –±–æ–µ–≤–æ–π —Ä–µ–∂–∏–º —Å –ø–ª–∞—Ç–Ω—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏
APP_MODE = "TEST"  # –∏–ª–∏ "BETA", "PRODUCTION"

# –í–∞—à–∏ email –¥–ª—è –≤–ª–∞–¥–µ–ª—å—á–µ—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
OWNER_IDS = [
    "vasiliys@mail.ru",
    "vasily61@gmail.com",
    "vasily61@inbox.ru",
]

# –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –≤—Ä–∞—á–∏ (VIP) —Å –æ—Å–æ–±—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏
VIP_USER_IDS = [
    # "doctor1@example.com",
]
```

### –®–∞–≥ 2: –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
git add config.py
git commit -m "feat: enable subscription system (TEST mode)"
git push doctor-opus experimental33:main
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Streamlit Cloud / –ª–æ–∫–∞–ª—å–Ω–æ).
2. –í —Å–∞–π–¥–±–∞—Ä–µ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –±–ª–æ–∫ **"üí≥ –ü–æ–¥–ø–∏—Å–∫–∞ –∏ –±–∞–ª–∞–Ω—Å"**.
3. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É **"üí≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π"**.
4. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ:
   - –†–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (`TEST` / `BETA` / `PRODUCTION`).
   - –ë–∞–ª–∞–Ω—Å –≤–∏–¥–µ–Ω (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–π, –¥–ª—è –≤–∞—Å ‚Äî –±–µ–∑–ª–∏–º–∏—Ç).
   - –ï—Å–ª–∏ –≤—ã –≤–≤–µ–ª–∏ —Å–≤–æ–π email –∏–∑ `OWNER_IDS` ‚Äî –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "–†–µ–∂–∏–º –≤–ª–∞–¥–µ–ª—å—Ü–∞".

---

## üìã –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### `OFF` ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–∫–ª—é—á–µ–Ω–æ
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∫—Ä–æ–º–µ OWNER) –≤–∏–¥—è—Ç —ç–∫—Ä–∞–Ω "–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω".
- –í—ã (OWNER) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

### `TEST` ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
- –¢–æ–ª—å–∫–æ –≤—ã + –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–µ –≤—Ä–∞—á–∏ (VIP_USER_IDS).
- –õ–∏–º–∏—Ç—ã –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã, –Ω–æ **—Ä–µ–∞–ª—å–Ω—ã—Ö –æ–ø–ª–∞—Ç –Ω–µ—Ç**.
- –í—ã –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –ø–æ–ø–æ–ª–Ω—è—Ç—å –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π".

### `BETA` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –õ—é–±–æ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–≤—à–∏–π—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç **100 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü** (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `FREE_TRIAL_CREDITS`).
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: `BETA_MAX_FREE_USERS = 100`.
- –û–ø–ª–∞—Ç—ã –ø–æ–∫–∞ –Ω–µ—Ç ‚Äî —Ç–æ–ª—å–∫–æ –ª–∏–º–∏—Ç—ã –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

### `PRODUCTION` ‚Äî –±–æ–µ–≤–æ–π —Ä–µ–∂–∏–º
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—ë–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞:
  - –ü–∞–∫–µ—Ç—ã 100/500/1000 –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `CREDIT_PACKAGES`).
  - –£—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞, —Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å.
- –ü–æ–∫–∞ –æ–ø–ª–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å **—Ä—É—á–Ω—ã–º–∏** (—á–µ–ª–æ–≤–µ–∫ –ø–∏—à–µ—Ç –≤–∞–º, –≤—ã –ø–æ–ø–æ–ª–Ω—è–µ—Ç–µ –±–∞–ª–∞–Ω—Å –≤—Ä—É—á–Ω—É—é).
- –ü–æ–∑–∂–µ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ–ø–ª–∞—Ç—É (–ÆKassa –∏ —Ç.–ø.).

---

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —á–∞—Ç

–í—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å–∫–æ–π —á–µ—Ä–µ–∑ –º–µ–Ω—è:

1. **–°–∫–∞–∂–∏ –º–Ω–µ, —á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å:**
   - "–ü–æ—Å—Ç–∞–≤—å —Ä–µ–∂–∏–º BETA"
   - "–í—ã–∫–ª—é—á–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö"
   - "–î–æ–±–∞–≤—å email doctor@example.com –≤ VIP_USER_IDS"

2. **–Ø –∏–∑–º–µ–Ω—é `config.py`** —Å –Ω—É–∂–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏.

3. **–¢—ã –∫–æ–º–º–∏—Ç–∏—à—å –∏ –ø—É—à–∏—à—å:**
   ```bash
   git add config.py
   git commit -m "chore: update subscription settings"
   git push doctor-opus experimental33:main
   ```

4. **–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è** –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É.

---

## üîí Kill Switch (—ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ **—Å—Ä–æ—á–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –¥–ª—è –≤—Å–µ—Ö (–∫—Ä–æ–º–µ –≤–∞—Å):

–í `config.py`:

```python
KILL_SWITCH_ENABLED = True
```

–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ –∏ –¥–µ–ø–ª–æ—è –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É, –∞ –≤—ã (OWNER) –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å.

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –≤–∫–ª—é—á–µ–Ω–∏—è

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `SUBSCRIPTION_ENABLED = True` –≤ `config.py`
- [ ] –í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º `APP_MODE` (TEST / BETA / PRODUCTION)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤–∞—à–∏ email –≤ `OWNER_IDS`
- [ ] –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
  - [ ] –í–∏–¥–∂–µ—Ç –±–∞–ª–∞–Ω—Å–∞ –≤ —Å–∞–π–¥–±–∞—Ä–µ
  - [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π"
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞–ª–∞–Ω—Å:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `FREE_TRIAL_CREDITS` (—Å–µ–π—á–∞—Å 100.0 –µ–¥.).
2. **–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.dev_mode` –≤ –∫–æ—Ä–Ω–µ, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–µ–±—è –ª–æ–∫–∞–ª—å–Ω–æ.
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –≤ PRODUCTION.
4. **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –°–µ–π—á–∞—Å –±–∞–ª–∞–Ω—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `session_state` (–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –Ω–∞ —Å–µ—Å—Å–∏—é). –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î.

---

## üîÑ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å:

–í `config.py`:

```python
SUBSCRIPTION_ENABLED = False
```

–ò–ª–∏:

```python
APP_MODE = "OFF"
```

–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ –∏ –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

---

**–ì–æ—Ç–æ–≤–æ!** –°–∏—Å—Ç–µ–º—É –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, —Å–ª–µ–¥—É—è —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. üìö

