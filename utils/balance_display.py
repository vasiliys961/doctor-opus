"""
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤ —Å–∞–π–¥–±–∞—Ä–µ Streamlit.

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å;
- —Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (APP_MODE);
- —Å–ª—É–∂–µ–±–Ω—É—é –ø–æ–º–µ—Ç–∫—É, –µ—Å–ª–∏ –≤—ã –≤ —Ä–µ–∂–∏–º–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞/dev_mode.
"""

import streamlit as st

from .subscription_manager import (
    get_state,
    is_subscription_active,
)


def show_balance_display() -> None:
    """–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–ø–∏—Å–∫–µ/–±–∞–ª–∞–Ω—Å–µ –≤ —Å–∞–π–¥–±–∞—Ä–µ."""
    state = get_state()

    with st.sidebar.expander("üí≥ –ü–æ–¥–ø–∏—Å–∫–∞ –∏ –±–∞–ª–∞–Ω—Å", expanded=False):
        st.markdown(f"**–†–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** `{state.mode}`")

        if not is_subscription_active():
            st.info("–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —Å–µ–π—á–∞—Å **–≤—ã–∫–ª—é—á–µ–Ω–∞**.\n\n"
                    "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–º —Ä–µ–∂–∏–º–µ.")
            return

        st.markdown(f"**–ë–∞–ª–∞–Ω—Å:** `{state.balance:.1f}` –µ–¥.")

        if state.is_owner:
            st.success("–†–µ–∂–∏–º –≤–ª–∞–¥–µ–ª—å—Ü–∞: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –±–∞–ª–∞–Ω—Å—É –Ω–µ –¥–µ–π—Å—Ç–≤—É—é—Ç.")
        elif state.is_vip:
            st.info("VIP‚Äë–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç.")

