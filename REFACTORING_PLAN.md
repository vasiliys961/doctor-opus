# План пошагового рефакторинга

## Принцип: Маленькие шаги с проверкой после каждого

---

## ЭТАП 1: Очистка requirements.txt

### ШАГ 1.1: Анализ используемых библиотек
**Цель:** Определить, какие библиотеки реально используются в коде

**Действия:**
- Проанализировать все импорты в основных файлах
- Создать список используемых библиотек
- Сравнить с requirements.txt

**Проверка:** Вывести список библиотек для проверки

---

### ШАГ 1.2: Создание requirements_clean.txt
**Цель:** Создать очищенную версию requirements.txt без неиспользуемых библиотек

**Действия:**
- Создать новый файл `requirements_clean.txt`
- Включить только реально используемые библиотеки
- Сохранить структуру и комментарии

**Проверка:** Файл создан, можно сравнить с оригиналом

---

### ШАГ 1.3: Тестирование с новым requirements.txt
**Цель:** Проверить, что приложение работает с очищенным requirements.txt

**Действия:**
- Временно переименовать старый requirements.txt в requirements_old.txt
- Переименовать requirements_clean.txt в requirements.txt
- Проверить запуск приложения

**Проверка:** Приложение запускается и работает корректно

---

### ШАГ 1.4: Финальная замена
**Цель:** После успешной проверки - закрепить изменения

**Действия:**
- Если всё работает - удалить requirements_old.txt
- Закоммитить изменения

---

## ЭТАП 2: Улучшение config.py (после проверки ШАГ 1.4)

### ШАГ 2.1: Анализ текущего config.py
**Цель:** Понять текущую структуру и что можно улучшить

---

### ШАГ 2.2: Создание улучшенной версии
**Цель:** Унифицировать для Streamlit и Replit

---

## ЭТАП 3: Фрагментация app.py (после проверки ШАГ 2.2)

### ШАГ 3.1: Создание директории pages/
**Цель:** Подготовить структуру для разбиения

---

### ШАГ 3.2: Перенос первой страницы (например, Главная)
**Цель:** Протестировать механизм на одной странице

**Проверка:** Страница работает через pages/

---

### ШАГ 3.3: Постепенный перенос остальных страниц
**Цель:** Переносить по 2-3 страницы, проверяя после каждой группы

---

## ЭТАП 4: Обновление документации

### ШАГ 4.1: Обновление ARCHITECTURE.md
**Цель:** Отразить новую структуру проекта

---

## Текущий статус: Готов к ШАГ 1.1



