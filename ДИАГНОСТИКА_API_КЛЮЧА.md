# ‚ùå API –ö–õ–Æ–ß OPENROUTER: –ù–£–õ–ï–í–û–ô –ë–ê–õ–ê–ù–° –ò–õ–ò –ê–ö–ö–ê–£–ù–¢ –ù–ï –ù–ê–ô–î–ï–ù

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. ‚úÖ **API –∫–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** (GET /models –≤–µ—Ä–Ω—É–ª 200)
2. ‚ùå **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω** (GET /auth/key –≤–µ—Ä–Ω—É–ª 401: "User not found")
3. ‚ùå **–í—Å–µ –º–æ–¥–µ–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ü—Ä–æ–±–ª–µ–º–∞

–í–∞—à API –∫–ª—é—á:
```
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
```

**–ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –ø–æ –ø—Ä–∏—á–∏–Ω–µ:**
- –ù—É–ª–µ–≤–æ–π –±–∞–ª–∞–Ω—Å (Credits = $0.00)
- –ò–õ–ò –∞–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω/–Ω–µ –Ω–∞–π–¥–µ–Ω
- –ò–õ–ò –∫–ª—é—á –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∞–∫—Ç–∏–≤–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## –†–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –±–∞–ª–∞–Ω—Å

–ó–∞–π–¥–∏—Ç–µ –Ω–∞: **https://openrouter.ai/account**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- ‚úÖ –ë–∞–ª–∞–Ω—Å (Credits): –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > $0
- ‚úÖ –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞: –∞–∫—Ç–∏–≤–Ω—ã–π
- ‚úÖ API –∫–ª—é—á–∏: –≤–∞—à –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ

### 2. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å

–ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å = $0:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://openrouter.ai/account
2. –ù–∞–∂–º–∏—Ç–µ **"Add Credits"**
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ —Å—á—ë—Ç (–º–∏–Ω–∏–º—É–º $5-10)
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### 3. –ò–õ–ò —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á

–ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://openrouter.ai
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç (–∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ https://openrouter.ai/keys
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
5. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å
6. –û–±–Ω–æ–≤–∏—Ç–µ –∫–ª—é—á –≤ `config.py` –∏–ª–∏ `.streamlit/secrets.toml`

### 4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–ª—é—á –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

#### –í–∞—Ä–∏–∞–Ω—Ç A: `config.py`
```python
OPENROUTER_API_KEY = "sk-or-v1-–í–ê–®_–ù–û–í–´–ô_–ö–õ–Æ–ß_–°_–ë–ê–õ–ê–ù–°–û–ú"
```

#### –í–∞—Ä–∏–∞–Ω—Ç –ë: `.streamlit/secrets.toml`
```toml
[api_keys]
OPENROUTER_API_KEY = "sk-or-v1-–í–ê–®_–ù–û–í–´–ô_–ö–õ–Æ–ß_–°_–ë–ê–õ–ê–ù–°–û–ú"
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
streamlit run app.py
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø–ª–∞—Ç–∏—Ç—å –∑–∞ OpenRouter, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ollama (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama (macOS)
brew install ollama

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
ollama serve

# –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å
ollama pull llama3.2-vision:11b

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
ollama run llama3.2-vision:11b "Hi"
```

–ó–∞—Ç–µ–º –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Ollama API (http://localhost:11434).

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
curl -X POST "https://openrouter.ai/api/v1/chat/completions" \
  -H "Authorization: Bearer –í–ê–®_–ö–õ–Æ–ß" \
  -H "Content-Type: application/json" \
  -d '{"model": "anthropic/claude-3-haiku", "messages": [{"role": "user", "content": "test"}]}'
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏, –∞ –Ω–µ –æ—à–∏–±–∫–∞ 401.

## –í–∞–∂–Ω–æ

‚ö†Ô∏è **OpenRouter ‚Äî –ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å**. –ë–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –º–æ–¥–µ–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

üí∞ **–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:**
- Claude 3 Haiku: ~$0.25 / 1M tokens (–¥–µ—à–µ–≤–ª–µ)
- Claude 3.5 Sonnet: ~$3 / 1M tokens (–¥–æ—Ä–æ–∂–µ, –Ω–æ –ª—É—á—à–µ)
- Llama 3.2 Vision: ~$1 / 1M tokens (—Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞)

üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å $10-20 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

**–í—ã–≤–æ–¥:** –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å OpenRouter –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å Ollama.

