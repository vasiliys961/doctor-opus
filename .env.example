# Doctor Opus v3.41.0 — Environment Variables
# Скопируйте в .env и заполните реальными значениями

# =============================================
# ОБЯЗАТЕЛЬНЫЕ
# =============================================

# OpenRouter API (AI-анализ)
OPENROUTER_API_KEY=your-openrouter-api-key-here

# NextAuth (авторизация)
NEXTAUTH_SECRET=your-random-secret-here
NEXTAUTH_URL=https://doctor-opus.ru

# PostgreSQL (база данных)
POSTGRES_URL=postgres://user:password@db:5432/neondb

# =============================================
# АВТОРИЗАЦИЯ И БЕЗОПАСНОСТЬ
# =============================================

# Администраторы (через запятую)
ADMIN_EMAILS=admin@doctor-opus.ru,support@doctor-opus.ru

# VIP-пользователи с бесконечным балансом (через запятую)
VIP_EMAILS=admin@doctor-opus.ru,support@doctor-opus.ru
# Дублируется для клиентской стороны (subscription-manager)
NEXT_PUBLIC_VIP_EMAILS=admin@doctor-opus.ru,support@doctor-opus.ru

# Аварийный пароль для входа без БД (только для начальной настройки!)
# ADMIN_PASSWORD=your-strong-admin-password

# JWT время жизни в секундах (по умолчанию 24 часа)
# JWT_MAX_AGE_SECONDS=86400

# Секрет для миграций БД (обязательно задать!)
MIGRATION_SECRET=your-migration-secret-here

# Salt для шифрования данных (обязательно сменить!)
ENCRYPTION_SALT=your-unique-random-salt-at-least-32-chars

# =============================================
# ТРАНСКРИПЦИЯ АУДИО
# =============================================
# Провайдер: assemblyai (по умолчанию) или yandex
# SPEECH_PROVIDER=assemblyai

# AssemblyAI (США) — по умолчанию
ASSEMBLYAI_API_KEY=your-assemblyai-api-key-here

# Yandex SpeechKit (РФ) — альтернатива
# SPEECH_PROVIDER=yandex
# YANDEX_SPEECHKIT_API_KEY=your-iam-token
# YANDEX_SPEECHKIT_FOLDER_ID=your-folder-id

# =============================================
# ОТПРАВКА EMAIL
# =============================================
# Провайдер: smtp (по умолчанию, РФ) или resend (США)
EMAIL_PROVIDER=smtp

# SMTP / Timeweb (РФ) — по умолчанию
SMTP_HOST=smtp.timeweb.ru
SMTP_PORT=465
SMTP_USER=support@doctor-opus.ru
SMTP_PASS=your-smtp-password
SMTP_FROM=Doctor Opus <support@doctor-opus.ru>

# Resend (США) — альтернатива
# EMAIL_PROVIDER=resend
# RESEND_API_KEY=your-resend-api-key-here

# =============================================
# ПЛАТЕЖИ
# =============================================
# ROBOKASSA_LOGIN=your-login
# ROBOKASSA_PASS1=your-pass1
# ROBOKASSA_PASS2=your-pass2

# IP-адреса платежной системы (через запятую)
# PAYMENT_IP_WHITELIST=185.12.44.0,185.12.44.1

# =============================================
# БАЗА ДАННЫХ (тонкая настройка)
# =============================================
# DB_POOL_MAX=10
# DB_IDLE_TIMEOUT_MS=30000
# DB_CONNECTION_TIMEOUT_MS=10000

# =============================================
# БИЛЛИНГ
# =============================================
# INITIAL_BALANCE=50
# BILLING_SOFT_LIMIT=-5
# MAX_SINGLE_DEDUCTION=50

# =============================================
# RATE LIMITING
# =============================================
# RL_ANALYSIS_WINDOW_SEC=60
# RL_ANALYSIS_MAX=10
# RL_CHAT_WINDOW_SEC=60
# RL_CHAT_MAX=30

# =============================================
# API
# =============================================
# MAX_FILE_SIZE_MB=50
# MAX_AUDIO_SIZE_MB=500
# API_MAX_DURATION_SECONDS=300

# =============================================
# ШИФРОВАНИЕ
# =============================================
# PBKDF2_ITERATIONS=100000

# =============================================
# ПОДПИСКА
# =============================================
# NEXT_PUBLIC_SUBSCRIPTION_STRICT_MODE=true
